<div>

<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-md">
      <h2 class="food_title mb-4">Recipe</h2>

      <div class="mb-4">
        <%= render @recipe %>
      </div>

      <div class="recipe-link mb-4 d-flex">
        <%= link_to "Generate shopping list", general_shopping_lists_path, class: "btn btn-primary me-2" %>
        <%= link_to "Add new ingredient", new_recipe_food_path, class: "btn btn-success" %>
      </div>

      <table id="foods" class="table table-striped table-hover">
        <thead>
          <tr class="table-heading">
            <th>Food</th>
            <th>Quantity</th>
            <th>Value</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @recipe.recipe_foods.each do |item| %>
            <tr id="<%= dom_id item %>">
              <td class="table_data"><%= item.food.name %></td>
              <td class="table_data"><%= item.quantity %><%= item.food.measurement_unit %></td>
              <td class="table_data">$<%= item.quantity * item.food.price %></td>
              <td class="table_data modify d-flex gap-3">
                <%= button_to "Delete", item, method: :delete, class: "btn btn-danger btn-sm mr-2" %>
                <%= link_to "Modify", edit_recipe_food_path, class: "btn btn-warning btn-sm" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <div class="d-flex mt-4 gap-3">
        <%= link_to "Edit", edit_recipe_path(@recipe), class: "btn btn-secondary mr-2" %>
        <%= button_to "Delete", @recipe, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger mr-2" %>
        <%= link_to "Go Back", recipes_path, class: "btn btn-primary" %>
      </div>
    </div>
  </div>
</div>

</div>